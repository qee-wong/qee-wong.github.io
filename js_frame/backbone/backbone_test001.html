<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="viewport" content="width=device-width">
  <link rel="canonical" href="http://backbonejs.org" />
  <title>Backbone.js</title>
</head>
<body>
<input id="function_filter" placeholder="Filter" type="text" autofocus="">
<div id="divTip">点击我</div>
   

</body>
<script src="test/vendor/underscore.js"></script>
<script src="test/vendor/jquery.js"></script>
<script src="docs/js/jquery.lazyload.js"></script>
<script src="test/vendor/json2.js"></script>
<script src="backbone.js"></script>
<script src="docs/search.js"></script>  
</html>
<script>
  var divView = {
    ele:'#divTip',
    tip:'hello,underscore!',
    onClick:function(){$(this.ele).html(this.tip);}
  };
  _.bindAll(divView,'onClick');
  $(divView.ele).bind('click',divView.onClick);

  var tmp = _.keys({name:"陶国荣",sex:"男",email:"tao_guo_rong@163.com"});
  console.log(tmp[1]);

  $(function(){
    //定义模型类
    var Test = Backbone.Model.extend({
      defaults:{content:''}
    });

    //创建集合模型类
    var TestList = Backbone.Collection.extend({model:Test});

    //向模型添加数据
    var data = new TestList({content:'hello,backbone!'});

    //创建View对象
    var TestView = Backbone.View.extend({

      el:$('body'),
      initialize:function(){
        $('#divTip').html(data.models[0].get('content'));
      }
    });

    //实例化view对象
    window.App = new TestView;

    var datau = {name:'陶国荣',email:'tao_guo_rong@163.com'};

    var object = _(datau);
    console.log(object.value().name + '_' + object.value().email);

    var arr = [105,16,'37a'];
    var objecta = _(arr);
    console.log('max:'+objecta.max() + 'min:'+objecta.min() );

    //underscroe
    _.each([1,2,3,4,5,6],function(n){if(!(n%2)) console.log(n);});

    var arr = _.map([1,2,3,4,5,6],function(n){if(!(n%2)) return n;});

    for (var i = 0; i < arr.length; i++) {
      if(arr[i] != undefined)
        console.log(i + '->' +arr[i]);
    }
    

    var blnfind = _.find([2,4,6,8,10,12],function(n){return (!(n%2==0));});
    console.log(blnfind != undefined ? blnfind : '未找到');

    var arrfind = _.filter([1,4,3,6,5,8],function(n){return (!(n%2 == 0));});
    console.log(arrfind.length != 0 ? arrfind : '未找到');

    var max = _.max([30,50,80]);console.log(max);

    var stu = [
      {name:'张三',score:90},
      {name:'张三',score:60},
      {name:'张三',score:80}
    ];

    var min = _.min(stu,function(n){return n.score;});
    console.log(min);

    var sort = _.sortBy(stu,function(n){return n.score});

    for (var p in sort) 
      console.log(sort[p].name + "->" + sort[p].score);

    var group = _.groupBy(stu,function(n){return n.score >80;})
    console.log(group);

    //first
    var first = _.first(stu,2);
    console.log(first);

    var last = _.last(stu,2);
    console.log(last);

    var stu = ['张三','李四','王五','李四'];
    var find = _.indexOf(stu,'李四');
    console.log(find);

    var find = _.lastIndexOf(stu,'李四',3);
    console.log(find);

    //without
    var newarr = _.without([40,60,50,40,4],4,40);
    console.log(newarr);

    var newarr = _.union([1,2,3],[3,4,5],[5,6,7]);
    console.log(newarr);

    

  });

</script>