<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1" />
  <meta name="viewport" content="width=device-width">
  <link rel="canonical" href="http://backbonejs.org" />
  <script src="test/vendor/jquery.js"></script>
  <title>Backbone.js</title>


</head>
<body>
  
</body>
</html>
<script>
$(function(){
var student = Backbone.Model.extend({
            defaults: {
                Code: "",
                Name: "",
                Score: 0
            }
        });       

        var stulist = Backbone.Collection.extend ({
            initialize: function () {
                console.log("--------------reset 事故触发------------");
                this.on("reset", function (render) {
                    for (var i = 0; i < render.models.length; i++) {
                        console.log(render.models[i].toJSON());
                    }            
                });
            },
            model:student,
            url:"./fetch.php"
        });
        var stus = new stulist();
        stus.fetch({
            reset:true,
            success: function (collection, resp, options) {
                console.log("-------------请求成功时触发-------------");
                for (var i = 0; i < collection.models.length; i++) {
                    console.log(collection.models[i].toJSON());
                }               
            }
        });

});


</script>
<script src="test/vendor/underscore.js"></script>
<script src="docs/js/jquery.lazyload.js"></script>
<script src="test/vendor/json2.js"></script>
<script src="backbone.js"></script>